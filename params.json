{
  "name": "Data-visualization",
  "tagline": "Data Visualization of Crops Yield from India over a period of 20 years.",
  "body": "# Are Commercial Crops in India dominating traditional crops and staples over the two decades?\r\n\r\n## Summary\r\n\r\n   Is India heading more towards commercial crops though being one of the major exporters of Staple foods such as cereals? May be, if we observe the last two decades trend of yield of different crops, the answer is Yes. After having a bit of analysis, we could see that effect was visible on fruits and vegetables espically but commercial crops were steadily picking up over the two decades. Lets go through to understand the effects better over the years.\r\n\r\n## Design\r\n\r\n### 1.Preparing the data:\r\nchecking for any NA values and removing such entries.\r\n```\r\n> timeuse<-read.csv(\"D:/udacity/project6/lesson2/crops_production_2.csv\");\r\n> timeusedf<-data.frame(timeuse);\r\n> summary(timeusedf)\r\n                                     Domain.Code     Domain        AreaCode    AreaName     ElementCode   ElementName           ItemName        Year     \r\n                                           :   1        :   2   Min.   :100        :   2   Min.   :5419        :   2   Vegetables   :528   Min.   :1994  \r\n FAOSTAT Date: Tue Mar 22 05:10:23 CET 2016:   1   Crops:1934   1st Qu.:100   India:1934   1st Qu.:5419   Yield:1934   Fruits       :420   1st Qu.:1999  \r\n QC                                        :1934                Median :100                Median :5419                Coarse Grains:208   Median :2004  \r\n                                                                Mean   :100                Mean   :5419                Dry Fruits   :162   Mean   :2004  \r\n                                                                3rd Qu.:100                3rd Qu.:5419                Spices       :141   3rd Qu.:2009  \r\n                                                                Max.   :100                Max.   :5419                Cereals      : 84   Max.   :2014  \r\n                                                                NA's   :2                  NA's   :2                   (Other)      :393   NA's   :2     \r\n     Value        Flag                  FlagD     \r\n Min.   :  1059     :   2                  :   2  \r\n 1st Qu.:  9015   Fc:1934   Calculated data:1934  \r\n Median : 28915                                   \r\n Mean   : 71462                                   \r\n 3rd Qu.:101294                                   \r\n Max.   :765328                                   \r\n NA's   :2\r\n      \r\nmodifieddf<-na.omit(timeusedf)\r\nwrite.csv(timeusedf,file = \"crops_production.csv\")     \r\n```\r\n\r\nAfter exploring the data, and trying out different charts, I thought to communicate in fancy way and used bubble chart/scatter plot for my initial draft and posted for feedback. I quickly realized that for Time series line chart is best and I got the same comments when I took feedback from members. So I choose to stick to the story rather than fancy presentation. \r\n\r\nLine chart simply communicates the data in better fashion espically when we are dealing with time series. I have taken the max values for each Item/product and displayed on hoverover of the points in the line chart. Item codes have different names which dataset didnt provide and to be considered for future development.\r\n\r\n### Line Chart\r\n\r\n| Visual Encoding | Variable |\r\n|-----------------|----------|\r\n| x-axis          | Year     |\r\n| y-axis          | max count|\r\n| color hue       | Item Name|\r\n\r\n\r\nBar chart communicates better when we are comparing which crop is yielding more in a given year. I have taken the max values for each Item/product and displayed on hoverover of the points in the line chart. Item codes have different names which dataset didnt provide and to be considered for future development.\r\n\r\n### Layout and Narrative\r\n\r\nLayout is thought of communicating the trends of different crops. The idea is to narrate the trends of production yield in India over the period of 20 years. The initial design before feedback shows the trends in very cluttered way.\r\n\r\n![Minion](https://github.com/vishy730/Data-Visualization/blob/master/Capture.JPG)\r\n\r\n##### Feedback 1.\r\n>  Hi Vishy, nice visualization. I am missing some context to fully understand the plot, maybe you can add some text? What is the x-axes (no label)? I can only see it with mouseOver event. What  the unit of value of crop production? The legend of the colours is not fully readable to me (letters cut off). I also think a line graph is better for time-series. good luck!\r\n\r\n##### Feedback 2.\r\n> I would say that the data are incomplete, as all data points are much lower than the previous years. Remember that for your final project, your visualization should be more explanatory than exploratory (your visualization should have a clear finding and focus on that). So, maybe you could include some text to help users get the story you are trying to convey.\r\n\r\n##### Feedback 3.\r\n> Perhaps when you click one of those crops, the graph should have a change of scale. Perhaps log, or a cut in the scale.\r\n\r\nConsidering above all the feedback points, I have modified the graph from bubble chart to line chart and applied aggregateMax function over ItemCode and showed it, on the hoverover of the points, instead of total count of the Yield per year. Also changed the title of y-axis.\r\n\r\n\r\n\r\nConsidering the feedback from the reviewer, I have created a story board and thought that bar chart would be apt for this visualization and modified the same.\r\n\r\n### Bar Chart\r\n\r\n| Visual Encoding | Variable |\r\n|-----------------|----------|\r\n| x-axis          | Item Name|\r\n| y-axis          | max count|\r\n| color hue       | Year     |\r\n\r\n## Final Visualization - Iteration -1:\r\n\r\n![Minion](https://github.com/vishy730/Data-Visualization/blob/master/Capture1.JPG)\r\n\r\n## Working Example\r\n\r\nhttp://bl.ocks.org/vishy730/2103dcf7f20ff086bde3400f58a3d1e2\r\n\r\nIn the above example we could see the distribution of various crops over the years and its a bit harder to identify the trends from it. However, we could observe a couple of things such as pulses and Lentils were more or less the same or in other words, the production is constant with some variance here and there till El Nino effect hit harder in 2014. So we have moved over a more sophisticated chart to understand the trends better.\r\n\r\n## Final Visualization - Iteration -2:\r\n\r\n![Minion](https://github.com/vishy730/Data-Visualization/blob/master/Capture2.PNG)\r\n\r\n## Working Example\r\n\r\nhttp://bl.ocks.org/vishy730/58dcc8f664c2eb73da90837cece47b4d\r\n\r\nIn this version we could see that chart is not cluttered. However, it was again difficult to draw the conclusion of various crop yields. Still we can observe that Fruits and vegetables were the most fluctuating crops in terms of yield. So can we conclude that fruit and vegetable crops were badly affected? In order to confirm we wanted to show the trends of all the crops across the years for better understanding. So we have introduced trend graphs in next iteration.\r\n\r\n## Final Visualization - Iteration -3:\r\n\r\n![Minion](https://github.com/vishy730/Data-Visualization/blob/master/Capture_3.PNG)\r\n\r\n## Working example.\r\n\r\nhttp://bl.ocks.org/vishy730/42beef5005b2010401ed895002a58992\r\n\r\nIn this version, introduced the trend for each crop on hover over of each crop. Have used crops for x-axis as I wanted to show different categories. The animation for years has given so that one can see the yield of crops over the years automatically. The hover over graph tells us the overall trend for a given crop over the years. Here I could find that coconuts had steady growth in yield and Fruits had very much turbulent down trend. However, by looking at the chart itself we could not deduct anything better apart from knowing the trend of each crop on hover over. So we thought of grouping various crops based on color and show the trends.\r\n\r\n## Final Visualization - Iteration -4:\r\n\r\n![Minion](https://github.com/vishy730/Data-Visualization/blob/master/Capture_5.JPG)\r\n\r\n## Working example.\r\n\r\nhttp://bl.ocks.org/vishy730/b65bb7d42a4dc61b88fd666249cd79a9\r\n\r\nIn this version, commercial crops such as Jute, Cotton, Tobacco were grouped and assiged a color Blue. The interesting crop Coconuts were steadily increasing over the years was given Red color and the diminishing trend of Fruits was given Green. The primary colors RBG were choosen so that they are catchy to eye-ball. Now by looking at the chart one could easily understand the trend of commerical crops were increased over the years and the coconut is the real winner since 2 decades in terms of production. So the three trends were highliighted in the chart for better understanding and conveying a story. Also the year 2014 was hit severly by El nino effect and was visible clearly in the chart. \r\n\r\n##Preparing the data for combining 4 crops into one (commercial crops)\r\n```\r\n# read the data\r\ncrops <- read.csv(\"crops_production.csv\", check.names = TRUE, fileEncoding = \"UTF-8\")\r\ncropsdf <- data.frame(crops)\r\n\r\n# getting the existing levels for the crops.\r\nlevels(cropsdf$ItemName)\r\n\r\n# Results - Initial\r\n[1] \"Breweries\"        \"Cereals\"          \"Coarse Grains\"    \"Coconuts\"         \"Dry Fruits\"      \r\n [6] \"Fruits\"           \"Jute products\"    \"Lentils\"          \"Oils\"             \"Pulses\"          \r\n[11] \"Raw Tobacco\"      \"Rubber & natural\" \"Seed cotton\"      \"Spices\"           \"Vegetables\" \r\n\r\n# combining the levels required\r\nlevels(cropsdf$ItemName)[c(7,11,12,13)] <- c(\"commercial Crops\")\r\n\r\nlevels(cropsdf$ItemName)\r\n# Results - after combining\r\n\r\n[1] \"Breweries\"        \"Cereals\"          \"Coarse Grains\"    \"Coconuts\"         \"Dry Fruits\"      \r\n [6] \"Fruits\"           \"commercial Crops\" \"Lentils\"          \"Oils\"             \"Pulses\"          \r\n[11] \"Spices\"           \"Vegetables\" \r\n\r\n# writing to file\r\n\r\nwrite.csv(cropsdf, \"crops_production_combined.csv\",row.names=FALSE)\r\n```\r\n\r\n## Final Visualization - Iteration -5:\r\n\r\n![Minion](https://github.com/vishy730/Data-Visualization/blob/master/Capture_7.JPG)\r\n\r\n## Working example.\r\n\r\nhttp://bl.ocks.org/vishy730/raw/3fffab0646e5d183eee4f1aa925fef1b/\r\n\r\nIn this version, as per reviewers comment, have used line chart for better representation of the data by combining the commercial crops Jute, Seed Cotton, Raw Tobacco and Rubber into one. Have filtered the data for this chart to show only commercial crops, fruits and coconuts for showing trend more specifically.\r\n\r\n#### Observations: \r\n\r\n* Of all the crops, Coconut showed the steady increase in the yield followed by pulses.\r\n* The most fluctuating yield was observed in two crops - Fruits and Vegetables.\r\n\r\n\r\n### Future Work:\r\n\r\n* ItemCode mapping should be done and breakdown of various itemcodes for a given Item.\r\n* Summary Legend on top right of the graph showing Top 5 yields over the years.\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}